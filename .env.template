# ===================================================================
# ARCHIVO PLANTILLA DE VARIABLES DE ENTORNO (.env.template)
# PROYECTO: Portal Web para Registro de Fincas
# ===================================================================
# Instrucciones:
# 1. Copia este archivo y renombralo a '.env'
# 2. Completa los valores según el entorno (Desarrollo o Producción)
# 3. NUNCA subas el archivo '.env' real al repositorio (Git)
# ===================================================================

# -------------------------------------------------------------------
# 1. CONFIGURACIÓN DE BASE DE DATOS (PostgreSQL / Prisma)
# -------------------------------------------------------------------
# DB_USER=Nombre del usuario de la base de datos
# DB_NAME=Nombre de la base de datos
# DB_PASSWORD=Contraseña del usuario

# [LOCAL / DESARROLLO]
DATABASE_URL="postgresql://postgres:password@localhost:5432/portal_de_fincas?schema=public"

# [PRODUCCIÓN] - Reemplazar con credenciales del servidor real
# DATABASE_URL="postgresql://usuario:password@servidor-remoto.com:5432/db_prod?schema=public"

# -------------------------------------------------------------------
# 2. AUTENTICACIÓN (NextAuth.js / Auth.js)
# -------------------------------------------------------------------
# Generar secretos seguros usando: openssl rand -base64 32
AUTH_SECRET='TU_SECRETO_GENERADO'
NEXTAUTH_SECRET='TU_SECRETO_GENERADO'

# [LOCAL]
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_URL_INTERNAL="http://localhost:3000"
NEXTAUTH_TRUSTED_HOSTS="localhost,127.0.0.1"

# [PRODUCCIÓN] - Cambiar a dominio real con HTTPS
# NEXTAUTH_URL="https://fincas.cuanticosurl.com"
# NEXTAUTH_URL_INTERNAL="https://fincas.cuanticosurl.com"
# NEXTAUTH_TRUSTED_HOSTS="fincas.cuanticosurl.com"

# -------------------------------------------------------------------
# 3. CONFIGURACIÓN DE LA APP (Emails y Multimedia)
# -------------------------------------------------------------------
# Necesario para que los correos electrónicos resuelvan rutas de imágenes y botones.

# [LOCAL]
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# [PRODUCCIÓN]
# NEXT_PUBLIC_APP_URL="https://fincas.cuanticosurl.com"

# -------------------------------------------------------------------
# 4. SERVICIO DE CORREO (Resend API)
# -------------------------------------------------------------------
RESEND_API_KEY="re_tu_api_key_aqui"

# [LOCAL]
EMAIL_FROM="onboarding@resend.dev"

# [PRODUCCIÓN] - Requiere haber verificado el dominio en el panel de Resend
# EMAIL_FROM="Nombre App <notificaciones@tudominio.com>"

# -------------------------------------------------------------------
# 5. DATOS DE INICIALIZACIÓN (Prisma Seed)
# -------------------------------------------------------------------
SEED_ADMIN_EMAIL="admin@ejemplo.com"
SEED_ADMIN_PASSWORD="PasswordSeguro123!"

# ===================================================================
# GUÍA TÉCNICA DE DESPLIEGUE PARA EL ADMINISTRADOR
# ===================================================================

# 1. REQUISITOS PREVIOS:
# -------------------------------------------------------------------
# - Node.js v18.0.0 o superior.
# - PostgreSQL instanciado y accesible.
# - Acceso al panel DNS del dominio (para Resend y SSL).

# 2. INSTALACIÓN INICIAL:
# -------------------------------------------------------------------
# npm install                       # Instala dependencias
# npx prisma generate               # Genera el cliente de base de datos

# 3. BASE DE DATOS Y MIGRACIONES:
# -------------------------------------------------------------------
# Desarrollo: npx prisma migrate dev
# Producción: npx prisma migrate deploy
# Semilla (Cargar admin inicial): npx prisma db seed

# 4. ALMACENAMIENTO DE ARCHIVOS:
# -------------------------------------------------------------------
# El sistema utiliza 'public/uploads' para imágenes de fincas.
# IMPORTANTE: Asegurar que el proceso de Node tenga permisos de escritura:
# Linux: sudo chown -R www-data:www-data public/uploads && chmod -R 755 public/uploads

# 5. DESPLIEGUE EN PRODUCCIÓN:
# -------------------------------------------------------------------
# 1. npm run build                  # Compila la aplicación Next.js
# 2. Usar un gestor de procesos (PM2 recomendado):
#    pm2 start npm --name "fincas-app" -- start
# 3. Configurar Nginx como Proxy Inverso para el puerto 3000.
# 4. Configurar Certbot (Let's Encrypt) para habilitar HTTPS.

# 6. MANTENIMIENTO:
# -------------------------------------------------------------------
# - Logs: pm2 logs fincas-app
# - Backups: Realizar dump periódico de la BD y backup de la carpeta 'public/uploads'.
# ===================================================================
